(in-package :sdl3)

(cffi:defctype keyboard-id :uint32)

(defcenum scancode
  (:unknown 0)
  (:a 4)
  (:b 5)
  (:c 6)
  (:d 7)
  (:e 8)
  (:f 9)
  (:g 10)
  (:h 11)
  (:i 12)
  (:j 13)
  (:k 14)
  (:l 15)
  (:m 16)
  (:n 17)
  (:o 18)
  (:p 19)
  (:q 20)
  (:r 21)
  (:s 22)
  (:t 23)
  (:u 24)
  (:v 25)
  (:w 26)
  (:x 27)
  (:y 28)
  (:z 29)
  (:1 30)
  (:2 31)
  (:3 32)
  (:4 33)
  (:5 34)
  (:6 35)
  (:7 36)
  (:8 37)
  (:9 38)
  (:0 39)
  (:return 40)
  (:escape 41)
  (:backspace 42)
  (:tab 43)
  (:space 44)
  (:minus 45)
  (:equals 46)
  (:leftbracket 47)
  (:rightbracket 48)
  (:backslash 49)
  (:nonushash 50)
  (:semicolon 51)
  (:apostrophe 52)
  (:grave 53)
  (:comma 54)
  (:period 55)
  (:slash 56)
  (:capslock 57)
  (:f1 58)
  (:f2 59)
  (:f3 60)
  (:f4 61)
  (:f5 62)
  (:f6 63)
  (:f7 64)
  (:f8 65)
  (:f9 66)
  (:f10 67)
  (:f11 68)
  (:f12 69)
  (:printscreen 70)
  (:scrolllock 71)
  (:pause 72)
  (:insert 73)
  (:home 74)
  (:pageup 75)
  (:delete 76)
  (:end 77)
  (:pagedown 78)
  (:right 79)
  (:left 80)
  (:down 81)
  (:up 82)
  (:numlockclear 83)
  (:kp-divide 84)
  (:kp-multiply 85)
  (:kp-minus 86)
  (:kp-plus 87)
  (:kp-enter 88)
  (:kp-1 89)
  (:kp-2 90)
  (:kp-3 91)
  (:kp-4 92)
  (:kp-5 93)
  (:kp-6 94)
  (:kp-7 95)
  (:kp-8 96)
  (:kp-9 97)
  (:kp-0 98)
  (:kp-period 99)
  (:nonusbackslash 100)
  (:application 101) 
  (:kp-equals 103)
  (:f13 104)
  (:f14 105)
  (:f15 106)
  (:f16 107)
  (:f17 108)
  (:f18 109)
  (:f19 110)
  (:f20 111)
  (:f21 112)
  (:f22 113)
  (:f23 114)
  (:f24 115)
  (:execute 116)
  (:help 117)   
  (:menu 118)   
  (:select 119)
  (:stop 120)   
  (:again 121)  
  (:undo 122)   
  (:cut 123)    
  (:copy 124)   
  (:paste 125)  
  (:find 126)   
  (:mute 127)
  (:volumeup 128)
  (:volumedown 129)
  (:kp-comma 133)
  (:kp-equalsas400 134)
  (:international1 135)
  (:international2 136)
  (:international3 137) 
  (:international4 138)
  (:international5 139)
  (:international6 140)
  (:international7 141)
  (:international8 142)
  (:international9 143)
  (:lang1 144) 
  (:lang2 145) 
  (:lang3 146) 
  (:lang4 147) 
  (:lang5 148) 
  (:lang6 149) 
  (:lang7 150) 
  (:lang8 151) 
  (:lang9 152) 
  (:alterase 153)
  (:sysreq 154)
  (:cancel 155)  
  (:clear 156)
  (:prior 157)
  (:return2 158)
  (:separator 159)
  (:out 160)
  (:oper 161)
  (:clearagain 162)
  (:crsel 163)
  (:exsel 164)
  (:kp-00 176)
  (:kp-000 177)
  (:thousandsseparator 178)
  (:decimalseparator 179)
  (:currencyunit 180)
  (:currencysubunit 181)
  (:kp-leftparen 182)
  (:kp-rightparen 183)
  (:kp-leftbrace 184)
  (:kp-rightbrace 185)
  (:kp-tab 186)
  (:kp-backspace 187)
  (:kp-a 188)
  (:kp-b 189)
  (:kp-c 190)
  (:kp-d 191)
  (:kp-e 192)
  (:kp-f 193)
  (:kp-xor 194)
  (:kp-power 195)
  (:kp-percent 196)
  (:kp-less 197)
  (:kp-greater 198)
  (:kp-ampersand 199)
  (:kp-dblampersand 200)
  (:kp-verticalbar 201)
  (:kp-dblverticalbar 202)
  (:kp-colon 203)
  (:kp-hash 204)
  (:kp-space 205)
  (:kp-at 206)
  (:kp-exclam 207)
  (:kp-memstore 208)
  (:kp-memrecall 209)
  (:kp-memclear 210)
  (:kp-memadd 211)
  (:kp-memsubtract 212)
  (:kp-memmultiply 213)
  (:kp-memdivide 214)
  (:kp-plusminus 215)
  (:kp-clear 216)
  (:kp-clearentry 217)
  (:kp-binary 218)
  (:kp-octal 219)
  (:kp-decimal 220)
  (:kp-hexadecimal 221)
  (:lctrl 224)
  (:lshift 225)
  (:lalt 226)
  (:lgui 227)
  (:rctrl 228)
  (:rshift 229)
  (:ralt 230)
  (:rgui 231)
  (:mode 257)
  (:sleep 258)                
  (:wake 259)                 
  (:channel-increment 260)
  (:channel-decrement 261)
  (:media-play 262)          
  (:media-pause 263)         
  (:media-record 264)        
  (:media-fast-forward 265)  
  (:media-rewind 266)        
  (:media-next-track 267)    
  (:media-previous-track 268) 
  (:media-stop 269)          
  (:media-eject 270)         
  (:media-play-pause 271)    
  (:media-select 272)        
  (:ac-new 273)              
  (:ac-open 274)             
  (:ac-close 275)            
  (:ac-exit 276)             
  (:ac-save 277)             
  (:ac-print 278)            
  (:ac-properties 279)       
  (:ac-search 280)           
  (:ac-home 281)             
  (:ac-back 282)             
  (:ac-forward 283)          
  (:ac-stop 284)             
  (:ac-refresh 285)          
  (:ac-bookmarks 286)        
  (:softleft 287)
  (:softright 288) 
  (:call 289) 
  (:endcall 290)
  (:reserved 400)
  (:count 512))


(defbitfield keycode
  (:extended-mask #x20000000)
  (:scancode-mask #x40000000)
  (:unknown #x00000000)
  (:return #x0000000)
  (:escape #x0000001b)
  (:backspace #x00000008)
  (:tab #x00000009)
  (:space #x00000020)
  (:exclaim #x00000021)
  (:dblapostrophe #x00000022)
  (:hash #x00000023)
  (:dollar #x00000024)
  (:percent #x00000025)
  (:ampersand #x00000026)
  (:apostrophe #x00000027)
  (:leftparen #x00000028)
  (:rightparen #x00000029)
  (:asterisk #x0000002a)
  (:plus #x0000002b)
  (:comma #x0000002c)
  (:minus #x0000002)
  (:period #x0000002e)
  (:slash #x0000002f)
  (:0 #x00000030)
  (:1 #x00000031)
  (:2 #x00000032)
  (:3 #x00000033)
  (:4 #x00000034)
  (:5 #x00000035)
  (:6 #x00000036)
  (:7 #x00000037)
  (:8 #x00000038)
  (:9 #x00000039)
  (:colon #x0000003a)
  (:semicolon #x0000003b)
  (:less #x0000003c)
  (:equals #x0000003)
  (:greater #x0000003e)
  (:question #x0000003f)
  (:at #x00000040)
  (:leftbracket #x0000005b)
  (:backslash #x0000005c)
  (:rightbracket #x0000005)
  (:caret #x0000005e)
  (:underscore #x0000005f)
  (:grave #x00000060)
  (:a #x00000061)
  (:b #x00000062)
  (:c #x00000063)
  (:d #x00000064)
  (:e #x00000065)
  (:f #x00000066)
  (:g #x00000067)
  (:h #x00000068)
  (:i #x00000069)
  (:j #x0000006a)
  (:k #x0000006b)
  (:l #x0000006c)
  (:m #x0000006)
  (:n #x0000006e)
  (:o #x0000006f)
  (:p #x00000070)
  (:q #x00000071)
  (:r #x00000072)
  (:s #x00000073)
  (:t #x00000074)
  (:u #x00000075)
  (:v #x00000076)
  (:w #x00000077)
  (:x #x00000078)
  (:y #x00000079)
  (:z #x0000007a)
  (:leftbrace #x0000007b)
  (:pipe #x0000007c)
  (:rightbrace #x0000007)
  (:tilde #x0000007e)
  (:delete #x0000007f)
  (:plusminus #x000000b1)
  (:capslock #x40000039)
  (:f1 #x4000003a)
  (:f2 #x4000003b)
  (:f3 #x4000003c)
  (:f4 #x4000003)
  (:f5 #x4000003e)
  (:f6 #x4000003f)
  (:f7 #x40000040)
  (:f8 #x40000041)
  (:f9 #x40000042)
  (:f10 #x40000043)
  (:f11 #x40000044)
  (:f12 #x40000045)
  (:printscreen #x40000046)
  (:scrolllock #x40000047)
  (:pause #x40000048)
  (:insert #x40000049)
  (:home #x4000004a)
  (:pageup #x4000004b)
  (:end #x4000004)
  (:pagedown #x4000004e)
  (:right #x4000004f)
  (:left #x40000050)
  (:down #x40000051)
  (:up #x40000052)
  (:numlockclear #x40000053)
  (:kp-divide #x40000054)
  (:kp-multiply #x40000055)
  (:kp-minus #x40000056)
  (:kp-plus #x40000057)
  (:kp-enter #x40000058)
  (:kp-1 #x40000059)
  (:kp-2 #x4000005a)
  (:kp-3 #x4000005b)
  (:kp-4 #x4000005c)
  (:kp-5 #x4000005)
  (:kp-6 #x4000005e)
  (:kp-7 #x4000005f)
  (:kp-8 #x40000060)
  (:kp-9 #x40000061)
  (:kp-0 #x40000062)
  (:kp-period #x40000063)
  (:application #x40000065)
  (:power #x40000066)
  (:kp-equals #x40000067)
  (:f13 #x40000068)
  (:f14 #x40000069)
  (:f15 #x4000006a)
  (:f16 #x4000006b)
  (:f17 #x4000006c)
  (:f18 #x4000006)
  (:f19 #x4000006e)
  (:f20 #x4000006f)
  (:f21 #x40000070)
  (:f22 #x40000071)
  (:f23 #x40000072)
  (:f24 #x40000073)
  (:execute #x40000074)
  (:help #x40000075)
  (:menu #x40000076)
  (:select #x40000077)
  (:stop #x40000078)
  (:again #x40000079)
  (:undo #x4000007a)
  (:cut #x4000007b)
  (:copy #x4000007c)
  (:paste #x4000007)
  (:find #x4000007e)
  (:mute #x4000007f)
  (:volumeup #x40000080)
  (:volumedown #x40000081)
  (:kp-comma #x40000085)
  (:kp-equalsas400 #x40000086)
  (:alterase #x40000099)
  (:sysreq #x4000009a)
  (:cancel #x4000009b)
  (:clear #x4000009c)
  (:prior #x4000009)
  (:return2 #x4000009e)
  (:separator #x4000009f)
  (:out #x400000a0)
  (:oper #x400000a1)
  (:clearagain #x400000a2)
  (:crsel #x400000a3)
  (:exsel #x400000a4)
  (:kp-00 #x400000b0)
  (:kp-000 #x400000b1)
  (:thousandsseparator #x400000b2)
  (:decimalseparator #x400000b3)
  (:currencyunit #x400000b4)
  (:currencysubunit #x400000b5)
  (:kp-leftparen #x400000b6)
  (:kp-rightparen #x400000b7)
  (:kp-leftbrace #x400000b8)
  (:kp-rightbrace #x400000b9)
  (:kp-tab #x400000ba)
  (:kp-backspace #x400000bb)
  (:kp-a #x400000bc)
  (:kp-b #x400000b)
  (:kp-c #x400000be)
  (:kp-d #x400000bf)
  (:kp-e #x400000c0)
  (:kp-f #x400000c1)
  (:kp-xor #x400000c2)
  (:kp-power #x400000c3)
  (:kp-percent #x400000c4)
  (:kp-less #x400000c5)
  (:kp-greater #x400000c6)
  (:kp-ampersand #x400000c7)
  (:kp-dblampersand #x400000c8)
  (:kp-verticalbar #x400000c9)
  (:kp-dblverticalbar #x400000ca)
  (:kp-colon #x400000cb)
  (:kp-hash #x400000cc)
  (:kp-space #x400000c)
  (:kp-at #x400000ce)
  (:kp-exclam #x400000cf)
  (:kp-memstore #x4000000)
  (:kp-memrecall #x4000001)
  (:kp-memclear #x4000002)
  (:kp-memadd #x4000003)
  (:kp-memsubtract #x4000004)
  (:kp-memmultiply #x4000005)
  (:kp-memdivide #x4000006)
  (:kp-plusminus #x4000007)
  (:kp-clear #x4000008)
  (:kp-clearentry #x4000009)
  (:kp-binary #x400000a)
  (:kp-octal #x400000b)
  (:kp-decimal #x400000c)
  (:kp-hexadecimal #x400000)
  (:lctrl #x400000e0)
  (:lshift #x400000e1)
  (:lalt #x400000e2)
  (:lgui #x400000e3)
  (:rctrl #x400000e4)
  (:rshift #x400000e5)
  (:ralt #x400000e6)
  (:rgui #x400000e7)
  (:mode #x40000101)
  (:sleep #x40000102)
  (:wake #x40000103)
  (:channel-increment #x40000104)
  (:channel-decrement #x40000105)
  (:media-play #x40000106)
  (:media-pause #x40000107)
  (:media-record #x40000108)
  (:media-fast-forward #x40000109)
  (:media-rewind #x4000010a)
  (:media-next-track #x4000010b)
  (:media-previous-track #x4000010c)
  (:media-stop #x4000010)
  (:media-eject #x4000010e)
  (:media-play-pause #x4000010f)
  (:media-select #x40000110)
  (:ac-new #x40000111)
  (:ac-open #x40000112)
  (:ac-close #x40000113)
  (:ac-exit #x40000114)
  (:ac-save #x40000115)
  (:ac-print #x40000116)
  (:ac-properties #x40000117)
  (:ac-search #x40000118)
  (:ac-home #x40000119)
  (:ac-back #x4000011a)
  (:ac-forward #x4000011b)
  (:ac-stop #x4000011c)
  (:ac-refresh #x4000011)
  (:ac-bookmarks #x4000011e)
  (:softleft #x4000011f)
  (:softright #x40000120)
  (:call #x40000121)
  (:endcall #x40000122)
  (:left-tab #x20000001)
  (:level5-shift #x20000002)
  (:multi-key-compose #x20000003)
  (:lmeta #x20000004)
  (:rmeta #x20000005)
  (:lhyper #x20000006)
  (:rhyper #x20000007)
  )

(defbitfield (keymod :uint16)
  (:none #x0000)
  (:lshift #x0001)
  (:rshift #x0002)
  (:level5 #x0004)
  (:lctrl #x0040)
  (:rctrl #x0080)
  (:lalt #x0100)
  (:ralt #x0200)
  (:lgui #x0400)
  (:rgui #x0800)
  (:num #x1000)
  (:caps #x2000)
  (:mode #x4000)
  (:scroll #x8000)
  (:ctrl #x00c0)
  (:alt #x0300)
  (:gui #x0c00))

