(in-package :sdl3)

(cffi:defcenum pixel-format
  (:unknown 0)
  (:index1lsb #x11100100)
  (:index1msb #x11200100)
  (:index2lsb #x1c100200)
  (:index2msb #x1c200200)
  (:index4lsb #x12100400)
  (:index4msb #x12200400)
  (:index8 #x13000801)
  (:rgb332 #x14110801)
  (:xrgb4444 #x15120c02)
  (:xbgr4444 #x15520c02)
  (:xrgb1555 #x15130f02)
  (:xbgr1555 #x15530f02)
  (:argb4444 #x15321002)
  (:rgba4444 #x15421002)
  (:abgr4444 #x15721002)
  (:bgra4444 #x15821002)
  (:argb1555 #x15331002)
  (:rgba5551 #x15441002)
  (:abgr1555 #x15731002)
  (:bgra5551 #x15841002)
  (:rgb565 #x15151002)
  (:bgr565 #x15551002)
  (:rgb24 #x17101803)
  (:bgr24 #x17401803)
  (:xrgb8888 #x16161804)
  (:rgbx8888 #x16261804)
  (:xbgr8888 #x16561804)
  (:bgrx8888 #x16661804)
  (:argb8888 #x16362004)
  (:rgba8888 #x16462004)
  (:abgr8888 #x16762004)
  (:bgra8888 #x16862004)
  (:xrgb2101010 #x16172004)
  (:xbgr2101010 #x16572004)
  (:argb2101010 #x16372004)
  (:abgr2101010 #x16772004)
  (:rgb48 #x18103006)
  (:bgr48 #x18403006)
  (:rgba64 #x18204008)
  (:argb64 #x18304008)
  (:bgra64 #x18504008)
  (:abgr64 #x18604008)
  (:rgb48-float #x1a103006)
  (:bgr48-float #x1a403006)
  (:rgba64-float #x1a204008)
  (:argb64-float #x1a304008)
  (:bgra64-float #x1a504008)
  (:abgr64-float #x1a604008)
  (:rgb96-float #x1b10600c)
  (:bgr96-float #x1b40600c)
  (:rgba128-float #x1b208010)
  (:argb128-float #x1b308010)
  (:bgra128-float #x1b508010)
  (:abgr128-float #x1b608010)
  (:yv12 #x32315659)      
  (:iyuv #x56555949)
  (:yuy2 #x32595559)
  (:uyvy #x59565955)
  (:yvyu #x55595659)
  (:nv12 #x3231564e)
  (:nv21 #x3132564e)
  (:p010 #x30313050)
  (:external-oes #x2053454f))

;; todo add format
;; SDL_PIXELFORMAT_RGBA32
;; SDL_PIXELFORMAT_ARGB32
;; SDL_PIXELFORMAT_BGRA32
;; SDL_PIXELFORMAT_ABGR32
;; SDL_PIXELFORMAT_RGBX32
;; SDL_PIXELFORMAT_XRGB32
;; SDL_PIXELFORMAT_BGRX32
;; SDL_PIXELFORMAT_XBGR32

(deflsp-type pixel-format-detail
  (format pixel-format)
  (bits-per-pixel :uint8)
  (bytes-per-pixel :uint8)
  (padding :uint8 :count 2)
  (r-mask :uint32)
  (g-mask :uint32)
  (b-mask :uint32)
  (a-mask :uint32)
  (r-bits :uint8)
  (g-bits :uint8)
  (b-bits :uint8)
  (a-bits :uint8)
  (r-shift :uint8)
  (g-shift :uint8)
  (b-shift :uint8)
  (a-shift :uint8))

(deflsp-type fcolor 
  (r :float)
  (g :float)
  (b :float)
  (a :float))

(deflsp-type color 
  (r :uint8)
  (g :uint8)
  (b :uint8)
  (a :uint8))

(deflsp-type palette
  (ncolors :int)
  (colors (:pointer (:struct color)))
  (version :uint32)
  (refcount :int))

(cffi:defcenum colorspace
  (:unknown 0)
  (:srgb #x120005a0)
  (:srgb-linear #x12000500)
  (:hdr10 #x12002600) 
  (:jpeg #x220004c6) 
  (:bt601-limited #x211018c6) 
  (:bt601-full #x221018c6) 
  (:bt709-limited #x21100421) 
  (:bt709-full #x22100421)
  (:bt2020-limited #x21102609) 
  (:bt2020-full #x22102609)
  (:rgb-default #x120005a0)
  (:yuv-default #x220004c6))
